ANSP-M-007
------------------------------------------------------------
http://10.50.23.114:8000/ <-- ctfd server
------------------------------------------------------------
duckduckgo <-- input ip address and cidr
------------------------------------------------------------
Layer---PDU---Name
7 Data      Application
6 Data      Presentation
5 Data      Session
4 Segments  Transport
3 Packets   Network (logical)
2 Frames    Data Link (physical) 
1 Bits      Physical
------------------------------------------------------------
#DAY 1#    will need to score 193/275 points to achieve a 70%.
------------------------------------------------------------
Networking standards play a crucial role in the realm of information technology, acting as the foundational framework that enables diverse devices and systems to communicate effectively within a network
------------------------------------------------------------
Application Layer: provides a network interface to the software applications that communicate over the network.
    It supports communication services directly to end-users or applications and provides network services such as file transfers,email, and remote login.
     -Remote Login: SSH (Secure Shell) and Telnet
    -Web: HTTP (Hypertext Transfer Protocol) and HTTPs
     -File Transfer: FTP (File Transfer Protocol), SFTP (SSH FTP), and FTPS (FTP Secure)
    -Email: SMTP (Simple Mail Transfer Protocol), POP (Post Office Protocol), and IMAP (Internet Message Access Protocol)
------------------------------------------------------------
Presentation Layer: deals with the syntax and semantics of the information exchanged between systems. 
  It translates data between the application layer and the lower layers, ensuring that the data is in a readable format.
  Tasks include data compression, encryption, and character set conversions.
  There are no protocols that operate at this layer. This layer deal more with encoding and file formatting.
 -Character encodings
 -Character encodings
 -Compression
 -Encryption
------------------------------------------------------------
Session Layer: establishes, manages, and terminates communication sessions between applications. It controls dialogues (full-duplex or half-duplex), maintains synchronization, and manages data exchange between applications.
  Sometimes the protocols that operate at this layer act as a "shim protocol" between various communicating devices.
    Protocols that operate at this layer:
        NetBIOS (Network Basic Input/Output System)
        RPC (Remote Procedure Call)
        PPTP (Point-to-Point Tunneling Protocol)
        SMB (Server Message Block) can operate like a "shim protocol" between various communicating devices.
        SOCKS (Socket Secure)
------------------------------------------------------------
Transport Layer: ensures end-to-end communication, providing error detection, error correction, and flow control. It breaks down larger messages into smaller segments, sends them across the network, and reassembles them at the destination.
    Protocols that operate at this layer:
        -Transmission Control Protocol (TCP): TCP is a connection-oriented protocol that provides reliable and ordered delivery of data packets.
        It establishes a virtual connection between the sender and receiver, manages packet acknowledgment, retransmission, and flow control to ensure data integrity and delivery.
        TCP is widely used for applications that require error-free data transmission, such as web browsing, email, and file transfer.
        -User Datagram Protocol (UDP): UDP is a connectionless protocol that provides fast, but unreliable, delivery of data packets.
        Unlike TCP, UDP does not establish a connection or guarantee packet delivery, making it faster but less reliable.
        It is commonly used for real-time communication applications like video streaming, online gaming, and Voice over IP (VoIP), where occasional packet loss is acceptable.
------------------------------------------------------------
Network Layer: is responsible for logical addressing, routing, and forwarding. It enables devices to communicate across different networks by determining the best path for data to travel from the source to the destination. 
IP (Internet Protocol) and IPv6 operates at this layer.
    Protocols that operate at this layer:
        -Internet Protocol version 4 (IPv4): IPv4 is the most widely used version of the Internet Protocol.
        It uses 32-bit addresses, allowing for approximately 4.3 billion unique addresses. However, due to the exhaustion of available IPv4 addresses, IPv6 has been developed as its successor.
        -Internet Protocol version 6 (IPv6): IPv6 is designed to address the limitations of IPv4 by using a 128-bit address space, providing a vastly larger number of possible addresses.
        It offers improved security, better support for mobile devices, and more efficient routing compared to IPv4.
        -Internet Control Message Protocol (ICMP): ICMP is used for network diagnostics and error reporting.
        It allows routers and hosts to communicate error messages, such as "destination unreachable" or "time exceeded," back to the source host.
        -Internet Group Management Protocol (IGMP): IGMP is used by IPv4 systems to manage multicast group membership.
        It enables hosts to inform routers about their desire to receive multicast traffic for specific multicast groups.
        -Neighbor Discovery Protocol (NDP): NDP is used in IPv6 networks for address resolution, router discovery, and neighbor detection.
        It replaces Address Resolution Protocol (ARP) in IPv4 networks.
        -Open Shortest Path First (OSPF): OSPF is an interior gateway routing protocol used within autonomous systems.
        It employs the shortest path first (SPF) algorithm to calculate the best route between routers, considering factors such as link cost and network congestion.
        -Routing Information Protocol (RIP): RIP is another interior gateway routing protocol used within autonomous systems.
        It uses the distance-vector routing algorithm and is simpler to configure compared to OSPF, although it may be less efficient in larger networks.
------------------------------------------------------------
Data-Link Layer: is responsible for creating a reliable link between two directly connected nodes. It handles issues such as framing, addressing, and error detection. It also manages access to the physical medium and controls how data is placed on the medium.
    Protocols that operate at this layer:
        -Ethernet: Ethernet is the most widely used data link layer protocol.
        It defines standards for the physical and data link layers, including how data is framed for transmission over Ethernet networks and how devices on the same network share the communication medium.
        Ethernet uses MAC (Media Access Control) addresses to identify devices on the network. 
        -IEEE 802.11 (Wi-Fi): The IEEE 802.11 standard governs wireless local area network (WLAN) technologies, commonly known as Wi-Fi.
        It defines how wireless devices communicate with each other over radio frequencies, including protocols for data framing, channel access, and security.
        -Ethernet VLAN Tagging (IEEE 802.1Q): IEEE 802.1Q is a protocol used to implement virtual LANs (VLANs) on Ethernet networks.
        It adds a VLAN tag to Ethernet frames, allowing devices to distinguish between different VLANs and route traffic accordingly.
        -Address Resolution Protocol (ARP): ARP is used to map IP addresses to MAC addresses on a local network.
        When a device needs to communicate with another device on the same network, it sends an ARP request to discover the MAC address associated with the IP address.
        -Reverse Address Resolution Protocol (RARP): RARP performs the opposite function of ARP.
        It maps MAC addresses to IP addresses, typically used by diskless workstations to obtain their IP addresses from a server based on their MAC addresses.
        -Link Layer Discovery Protocol (LLDP): LLDP is a vendor-neutral protocol used to discover information about neighboring devices on a network.
        It allows network devices to exchange information about their identity, capabilities, and status.
        -Cisco Discovery Protocol (CDP): Similar to LLDP, CDP is a proprietary protocol developed by Cisco.
        It enables Cisco devices to discover and share information about neighboring Cisco devices on a network, including device type, IP address, and software version.
------------------------------------------------------------
Physical Layer: deals with the physical connection between devices. It defines the hardware elements, such as cables, connectors, and the transmission medium (e.g., copper wires, fiber optics). 
It is concerned with the raw transmission of bits over a physical medium. The protocols define the electrical, mechanical, and functional specifications for transmitting raw bit streams over physical mediums.
    Protocols that operate at this layer:
        -Ethernet Physical Layer Standards (IEEE 802.3): IEEE 802.3 standards define the physical and electrical characteristics of Ethernet networks. 
        They specify parameters such as cable types (e.g., twisted pair, fiber optic), signaling methods (e.g., Manchester encoding, 4B5B encoding), and data transmission rates (e.g., 10 Mbps, 100 Mbps, 1 Gbps, 10 Gbps).
        -IEEE 802.11 (Wi-Fi): Wi-Fi is a family of wireless networking standards for local area networks (LANs).
        It defines physical layer specifications for radio frequency transmission over the air, including modulation techniques, channel widths, and data rates used in Wi-Fi networks.
        -Bluetooth: Bluetooth is a wireless technology standard for short-range communication between devices. 
        It defines physical layer specifications for radio frequency transmission, including frequency bands, modulation techniques, and power levels used in Bluetooth devices.
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------
        OSI Layer 1
------------------------------------------------------------
Base64 - usually has an = at the end
https://net.cybbh.io/public/networking/latest/01_data/_images/base64table.png
------------------------------------------------------------
TOPOLOGIES
-Bus
A bus network is a network topology in which nodes are directly connected to a common half-duplex link called a bus.
-Ring
A ring network is a network topology in which each node connects to exactly two other nodes, forming a single continuous pathway for signals through each node – a ring. Data travels from node to node, with each node along the way handling every packet.
-Mesh
  A mesh network is a local network topology in which the infrastructure nodes (i.e. bridges, switches, and other infrastructure devices) connect directly,
  dynamically and non-hierarchically to as many other nodes as possible and cooperate with one another to efficiently route data from/to clients.
  This lack of dependency on one node allows for every node to participate in the relay of information. Mesh networks dynamically self-organize and self-configure, which can reduce installation overhead.
  The ability to self-configure enables dynamic distribution of workloads, particularly in the event a few nodes should fail. This in turn contributes to fault-tolerance and reduced maintenance costs.
-Wireless
 A wireless network is a computer network that uses wireless data connections between network nodes. Note: All wireless connections eventually connect to a wired network.
-Hierarchial
    The hierarchical topology model is made up of the following:
        A core layer of high-end switches optimized for network availability and performance.
        A distribution layer of switches implementing forwarding decisions.
        An access layer connecting users via hubs, bridges, or switches.
------------------------------------------------------------
DEVICES
-Hubs are devices that allow multiple nodes to connect on the same wire (Collision Domain). https://en.wikipedia.org/wiki/Ethernet_hub
-Switches are devices that allow multiple nodes to connect on the network, but on their own collision domain.
    The layer 2 originating MAC address of the frame are learned from the incoming frames and are stored in the mac address table memory, also called a Content Addressable Memory (CAM) table.
-Repeaters are devices that allow a connection to be extended beyond the normal operational cable or wireless limits.
-Routers, Backbone of the internet. have Routing tables for ipv4 and ipv6 and how to get to them
------------------------------------------------------------
 Ethernet Timing
Speed 	Bit-time
10 Mbps    100ns
100 Mbps   10ns
1 Gbps     1ns
10 Gbps   .1ns
100 Gbps .01ns
------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OSI Layer 2
Media Access Control (MAC):
    The MAC sub-layer is responsible for controlling access to the physical transmission medium.
    Handles the transmission and reception of data frames over the physical medium, including addressing, framing, and error checking.
    Act as a sublayer governing protocol access to the physical medium, physical addressing, and acts as an interface between the LLC and physical layer. Most of the frame construction happens at this layer.
        Provides the destination MAC address.
            Either a broadcast (FF:FF:FF:FF:FF:FF) to address all nodes on LAN.
            Unicast MAC (4A:30:10:19:10:1A) to address one node on LAN.
            Multicast MAC (01:00:5E:00:00:C8) to address a group of nodes on a LAN. Will have a Multicast address as the destination IP.
        Provides the source MAC address, forwards based on destination.
            Always a Unicast MAC.
        Calculates the Cyclic Redundancy Check (CRC) on the Frame and appends to the Frame Check Sequence (FCS) field.
        Controls access to/from the medium.
            Sending bit-rate (bit speed)
            Duplex (Half or Full) and CSMA/CD functions
            Frame delimiting and recognition
Logical Link Control (LLC):
    The LLC sub-layer is responsible for establishing, maintaining, and terminating logical links between network devices.
    Provides services such as error detection and flow control to ensure reliable data transmission over the physical medium.
    LLC defines the framing and addressing mechanism for data frames and handles the multiplexing of network layer protocols.
    It acts as an interface between the Network Layer (Layer 3) and the MAC sub-layer, enabling communication between the two layers regardless of the underlying physical media.
    Manages communication between devices over a single link of the network that includes error checking and data flow.
    Multiplexes protocols to be sent over the MAC sub-layer.
    Follows the IEEE 802.2 standard.
    This layer provides the Ethertype to the MAC sublayer in the frame construction to identify the encapsulated protocol.
        0x0800 for IPv4
        0x0806 for ARP
        0x86dd for IPv6
        0x8100 for 802.1q VLAN tag
------------------------------------------------------------------------------------------------------------------------
    Switch Operation: A switch allows multiple users to access the network and can provide segmentation to isolate traffic flow and reduce collisions, relieving network congestion in most cases.
    All switches add small latency delays due to packet processing.
    These delays could be caused by port speed, frame processing (Cut-through or Store and Forward), port delay, and buffering delay. Deploying switches unnecessarily can actually slow down network performance.

    -Store-and-Forward accepts and analyzes the entire frame before forwarding it to its destination.
      It takes more time to examine the entire frame, but it allows the switch to catch certain frame errors and collisions and keep them from propagating bad frames through the network. This method is required to switch frames between links of different speeds; this is due to bit-timing.
      The speed at which the bits enter one interface may be slower than the speed at which the switch needs to send the bits to a different interface.
!!  -Cut-Through (sometimes called fast forward) only examines the destination address before forwarding it to its destination segment. This is the fastest switching mode but requires the interfaces to be the same speed.
    -Fragment-Free read at least 64 bytes of the Ethernet frame before switching it to avoid forwarding Ethernet runt frames (Ethernet frames smaller than 64 bytes).
      A frame should have a minimum of 46 bytes of payload plus its 18-byte frame header.
------------------------------------------------------------------------------------------------------------------------
CAM Table Overflow/Media Access Control (MAC) Attack
 This attack aims to overwhelm a switch’s CAM table, which is used to store MAC address-to-port mappings, leading to a denial of service (DoS) condition or facilitating a man-in-the-middle attack.
 This attack focuses on the Content Addressable Memory (CAM) table that stores the MAC addresses on a switch. A switch with only one VLAN will just have one CAM table. A switch will create a serarate CAM table for each VLAN supported by the switch.
------------------------------------------------------------------------------------------------------------------------
Describe MAC addressing
Length:
    48 bits or 6 bytes in length represented by 12 hexadecimal digits.
Different Formatting:
    Windows: 01-23-45-12-34-56
    Unix/Linux: 01:23:45:12:34:56
    Cisco: 1234.5612.3456

Organizationally Unique Identifier (OUI) - First 24 bits or 3 bytes or 6 HEX.
    The OUI is typically assigned by IANA to a vendor, manufacturer, or other organization.
Vendor assigned - Last 24 bits or 3 bytes or 6 HEX.

Unicast: one-one
Multicast: one-many
broadcast: to everyone
------------------------------------------------------------------------------------------------------------------------
Type II Frame
Destination MAC, Source MAC, EtherType
0x0800--IPv4
0x0806--ARP
0x86DD--IPv6
------------------------------------------------------------------------------------------------------------------------
VLAN TYPES
Default- VLAN 1
Data- User Traffic
VOice- VOIP Traffic
Management- switch and router management
Native- Untagged switch and router Traffic
------------------------------------------------------------------------------------------------------------------------
ARP
Operation Specifies the operation that the sender is performing:
    1 = ARP request
    2 = ARP reply
    3 = RARP request
    4 = RARP reply
------------------------------------------------------------------------------------------------------------------------
    -ARP - A request and response in order to resolve the destination L2 (MAC) address when only the destination L3 (IPv4) address is known.
        ARP Request Operation code = 1
        ARP Reply Operation code = 2
        ARP Request:
            When a device needs to communicate with another device on the same network segment but only knows the destination’s IP address, it broadcasts an ARP request message to the entire network.
            The ARP request contains the sender’s IP address and MAC address and the IP address of the target device.
        ARP Reply:
            The device with the IP address specified in the ARP request responds with an ARP reply.
            The ARP reply contains the target device’s MAC address.
            Once the sender receives the ARP reply, it can use the MAC address to address frames destined for the target device.
    -RARP - A request and response in order to resolve the destination L3 (IPv4) address when only the destination L2 (MAC) is known. (This protocol has been deprecated since the widespread use of protocols like BOOTP and DHCP.)
        RARP Request Operation code = 3
        RARP Reply Operation code = 4
        When a device boots up and has no configured IP address, it broadcasts a RARP request onto the local network.
        The RARP request contains the device’s MAC address.
        RARP servers on the network receive the broadcast request and check their tables for a corresponding IP address entry associated with the MAC address.
    -Gratuitous ARP - An ARP reply that was not requested
        ARP Reply Operation code = 2
        A gratuitous ARP messages is an ARP messages sent by a device to announce its own IP-to-MAC address mapping to other devices on the network.
        Gratuitous ARP messages are commonly used during network initialization or to update ARP caches in other devices.
        These are commonly used for:
            Help in detecting IP conflicts
            Assist in updating other system’s ARP cache
            To inform switches of the MAC address of the client connected to its port
            Helps pre-load other systems ARP cache when the local systems IP interface comes up
        Maliciously used to:
            Poision a victim’s ARP cache
    -Proxy ARP - A device (router) answers the ARP queries for IP address that is on a different network.
        The ARP proxy sees the ARP request and determines that the target Network address is not on the local network segment and is aware of how to reach the destination network.
        The proxy will offer its own MAC address in response to the request.
        Typically this device is the network gateway and is responsible to forward traffic for other networks.
        Maliciously the ARP requests can be intercepted and a Proxy ARP sent as a response to poision the victim’s ARP Cache.
    -ARP Cache - is a collection of Layer 2 to Layer 3 address mappings discovered utilizing the ARP request/response process. When a host needs to send a packet both the L2 and L3 addresses are needed.
        The host will look in this table to determine if it already knows both the L2 and L3 addresses. If the target is not in the table then a ARP request is initiated.
        The ARP cache can be populated statically but mostly its done dynamically. This cache can be exploited by attackers with the aim to poison the cache with incorrect information to either perform a DoS or MitM.
    Command:
      arp -a
      ip neighbor
------------------------------------------------------------------------------------------------------------------------
VLAN TRUNKING PROTOCOL(VTP)
    Key Concepts of VTP
        1. VTP Domain
            Definition: A VTP domain is a group of switches that share the same VTP configuration and VLAN information. All switches in the same VTP domain share VLAN information and synchronize their VLAN databases.
            Configuration: Each switch must be configured with the same VTP domain name to participate in the same VTP domain.
        2. VTP Modes
            Server Mode:
                Description: Switches in VTP Server mode can create, modify, and delete VLANs and share these VLAN configurations with other switches in the VTP domain. They also maintain a VLAN database that is synchronized with other switches.
                Default Mode: Switches are in VTP Server mode by default.
            Client Mode:
                Description: Switches in VTP Client mode receive VLAN information from VTP Servers and apply these VLAN configurations, but they cannot create, modify, or delete VLANs. They rely on VTP Servers for their VLAN information.
            Transparent Mode:
                Description: Switches in VTP Transparent mode do not participate in VTP VLAN information exchange. They forward VTP advertisements but do not apply them or update their VLAN database based on VTP information.
                They maintain their own VLAN configurations and do not propagate changes to other switches.
            Off Mode:
                Description: In some contexts, "Off" mode may be used to disable VTP entirely on a switch. This mode is not a standard VTP mode but can be used to refer to a state where VTP is not active.
        3. VTP Advertisements
            Types:
                Summary Advertisements: Contain information about the VTP domain name, revision number, and VLAN information.
                Subset Advertisements: Carry VLAN configuration changes.
                Advertisement Requests: Request VTP advertisements from other switches.
            Purpose: Advertisements are used to propagate VLAN changes and maintain consistency across the VTP domain.
        4. VTP Revision Number
            Description: Each VTP advertisement includes a revision number that is incremented with each change to the VLAN configuration. Higher revision numbers indicate more recent configurations.
            Switches use the revision number to determine if they should update their VLAN database based on received advertisements.
There are three versions of VTP, version 1, version 2, version 3.
------------------------------------------------------------------------------------------------------------------------
DYNAMIC TRUNKING PROTOCOL(DTP)
 On by default
 can send crafted messages to form a vlan trunk link
 Recommended to:
   disable DTP negotiations
    <switchport nonegotiate>
   Maunually assign as Access or Trunk
    <switchport mode access> or <switchport mode trunk>
------------------------------------------------------------------------------------------------------------------------
    -Cisco Discovery Protocol (CDP) is a Layer 2, Cisco proprietary protocol used to share information with other directly connected Cisco devices. CDP is protocol and media independent and runs on all Cisco routers, switches, and other devices.
        CDP Shares information such as:
            Device ID (hostname)
            IP address
            Port ID (interface on the device)
            Platform (device model)
            Capabilities (e.g., router, switch)
            Number and type of interface
            IOS software version
          CDP can be used as a Network Discovery tool as well as assist in network design decisions and troubleshooting.        
Mitigation of CDP ATTACK
    Disable Globally with <no cdp run>
    Disable on an interface with <no cdp enable>

    -Foundry Discovery Protocol (FDP) is a proprietary data link layer protocol, originally developed by Foundry Networks, which was bought by Brocade. 
        Similar to CDP, FDP enables Brocade devices to advertise to other directly connect Brocade devices on the network.
    -Link Layer Discovery Protocol (LLDP) was designed by IEEE 802.1AB to be a vendor-neutral neighbor discovery protocol similar to CDP.
        LLDP also operates at layer 2 and shares similar information as does CDP with directly connected devices that support LLDP.
------------------------------------------------------------------------------------------------------------------------
SPANNING TREE PROTOCOL(STP)
   Stops circulating frames
      -Elect the Root Bridge
      -Identify the Root port on each non-root bridge
      -Identify the Designated port for each segment

------------------------------------------------------------------------------------------------------------------------
Port Security
The purpose of configuring port security technologies is to limit, restrict, and protect network access. Configuring port security can be done on active access ports to limit the number of users or MAC addresses allowed to access onto the network.
This will help to alleviate attacks such as DoS, MAC Address Flooding, and most unauthorized access.
    MAC Address Limit:
        Port security allows administrators to specify the maximum number of MAC addresses allowed on a switch port.
        When enabled, the switch monitors the MAC addresses of devices connected to the port and takes action if the number of MAC addresses exceeds the configured limit.
    MAC Address Learning:
        When a device sends traffic through a switch port, the switch learns the device’s MAC address and associates it with the port.
        The switch maintains a table, known as the MAC address table or CAM table, which maps MAC addresses to switch ports.
    Violation Actions:
        Administrators can define violation actions to be taken when port security violations occur.
        Common violation actions include shutting down the port, sending an SNMP trap, or logging a message.
        These actions help alert administrators to potential security breaches and mitigate unauthorized access attempts.
        The following are the possible modes:
            protect - Drops any frames with an unknown source addresses.
            restrict - Same as protect except it additionally creates a violation counter report.
            shutdown - Places the interface into an "error-disabled" state immediately and sends an SNMP trap notification. This is typically the default mode.


















